autoload -Uz compinit
compinit

# A lot of this is lifted from holman
# it's strictly speaking somewhat different, I guess?
export ZSH=$HOME/.dotfiles/zsh

# Removes duplicates from $config_files
typeset -U config_files
config_files=($ZSH/*.zsh)

# Load plugins first
ADOTDIR=$HOME/.antigen
source $ZSH/antigen/antigen.zsh

source $ZSH/plugins/plugins.zsh

# Finalize plugins
antigen apply

for file in $config_files
do
    source $file
done


